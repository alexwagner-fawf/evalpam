% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_spectrogram_generator.R
\name{build_spectrogram_db}
\alias{build_spectrogram_db}
\title{Generate Spectrogram Videos for Verification}
\usage{
build_spectrogram_db(
  data,
  pool,
  padding_s = 5,
  analysis_range = 3,
  output_dir = "spectrograms",
  temp_dir = tempdir(),
  video_width = 1280,
  video_height = 720,
  video_res = 144,
  verbose = TRUE
)
}
\arguments{
\item{data}{A data frame containing at least `audio_file_id`, `begin_time_ms`,
`species_id`, and `confidence`.}

\item{pool}{A DBI connection pool for database access.}

\item{padding_s}{Numeric. Seconds of context before and after the detection. Default is 5.}

\item{analysis_range}{Numeric. The length of the BirdNET analysis window (usually 3s).}

\item{output_dir}{Character. Directory where the .mp4 files will be saved.}

\item{temp_dir}{Character. Directory for temporary audio chunks.}

\item{video_width}{Integer. Width of the output video.}

\item{video_height}{Integer. Height of the output video.}

\item{video_res}{Integer. Resolution (DPI) of the spectrogram.}

\item{verbose}{Logical. Whether to show a progress bar.}
}
\value{
A list with the processing status and a list of any errors encountered.
}
\description{
This function takes a set of BirdNET detections, extracts the audio segments
with a defined padding (context), generates a spectrogram video (.mp4),
and registers the metadata in the database.
}
